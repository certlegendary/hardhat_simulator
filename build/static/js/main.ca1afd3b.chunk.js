(this["webpackJsonpconfig-edit-front"]=this["webpackJsonpconfig-edit-front"]||[]).push([[0],{13:function(e,t,c){},15:function(e,t,c){},17:function(e,t,c){"use strict";c.r(t);var s=c(1),a=c.n(s),n=c(8),l=c.n(n),o=(c(13),c(3)),i=(c(14),c(15),c(5)),r=c(2),m=c(0),j=function(){var e=Object(s.useRef)(),t=Object(s.useRef)(),c=Object(s.useState)(""),a=Object(o.a)(c,2),n=a[0],l=a[1],j=Object(s.useState)([{name:"new",id:"first",setBlances:[],simulates:[]}]),d=Object(o.a)(j,2),u=d[0],b=d[1],x=Object(s.useState)(!1),h=Object(o.a)(x,2),O=h[0],f=h[1],p=Object(s.useState)(0),v=Object(o.a)(p,2),N=v[0],g=v[1],y=Object(s.useState)(),k=Object(o.a)(y,2),C=k[0],_=k[1],S=Object(s.useState)(""),w=Object(o.a)(S,2),L=w[0],B=w[1],T=function(){if(O){var e=Object(r.a)(u),t=Object(i.a)({},u[N]);console.log(C),0!=C.readyState&&C.send(JSON.stringify(t)),e[N].start=!e[N].start,b(e)}else alert("This app is not connected to server! Please check the server!")},A=function(e){var t=Object(r.a)(u);t[N][e.target.name]=e.target.value,b(t)},J=function(e,t){var c=Object(r.a)(u);c[N].setBlances[e][t.target.name]=t.target.value,b(c)},q=function(e){var t=Object(r.a)(u);t[N].simulates.splice(e,1),b(t)},I=function(e,t){var c=Object(r.a)(u);c[N].simulates[e][t.target.name]=t.target.value,b(c)},D=function(c){var s=Object(r.a)(u),a=s[N].simulates,n=a[e.current];a.splice(e.current,1),a.splice(t.current,0,n),e.current=null,t.current=null,b(s)};return Object(s.useEffect)((function(){var e=localStorage.getItem("simulation");e&&(e=JSON.parse(e),b(e));var t=new WebSocket("ws://localhost:443");_(t),t.onmessage=function(e){var t=JSON.parse(e.data);if("stop"==t.type){var c=JSON.parse(localStorage.getItem("simulation"));console.table(c);var s=c.findIndex((function(e){return e.id==t.id}));c[s].start=!1,console.log(c),b(c)}},t.onopen=function(e){f(!0)},t.onclose=function(e){f(!1)}}),[]),Object(s.useEffect)((function(){var e=Object(r.a)(u);localStorage.setItem("simulation",JSON.stringify(e))}),[u]),Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"rounded shadow",children:Object(m.jsxs)("div",{className:"row border-dark p-3 ",children:[Object(m.jsx)("div",{className:"col-md-3 bg-dark2 ",style:{height:"inherit",borderRight:"4px solid dimgrey"},children:Object(m.jsxs)("div",{className:" p-4 rounded",style:{height:"100%"},children:[Object(m.jsx)("button",{className:"btn btn-primary",onClick:function(e){!function(){if(""!==n){var e=Object(r.a)(u),t=new Date;e.push({id:t.getTime(),start:!1,name:n,blockNumber:"",tokenAddy:"",quoteTokenAddy:"",setBlances:[],simulates:[]}),b(e)}}(),l("")},children:"New Simulation"}),Object(m.jsx)("input",{type:"text",value:n,onChange:function(e){return l(e.target.value)},className:"form-control mt-3"}),Object(m.jsx)("h5",{className:"underline pl-2",children:"List of Simulation"}),Object(m.jsx)("div",{children:Object(m.jsx)("ul",{className:"list-group",children:u.map((function(e,t){return Object(m.jsxs)("li",{onClick:function(e){return g(t)},className:N==t?"list-group-item d-flex mt-1 justify-content-between align-item center task-item active ":u[t].start?"list-group-item d-flex mt-1 justify-content-between align-item center task-item  bg-danger":"list-group-item d-flex mt-1 justify-content-between align-item center task-item ",children:[e.name,Object(m.jsx)("span",{className:"close",onClick:function(e){!function(e){var t=Object(r.a)(u);1!=u[e].start?(e==t.length-1&&g((function(e){return e-1})),t.splice(e,1),b(t)):alert("Sorry! You can't remove simulating task! Try again after stop this simulation.")}(t)},children:"\xd7"})]},t)}))})})]})}),u.length>0&&Object(m.jsx)("div",{className:"col-md-9 bg-dark2",children:Object(m.jsxs)("div",{className:" p-5 rounded",style:{height:"100%"},children:[Object(m.jsxs)("div",{className:"row",children:[Object(m.jsxs)("div",{className:"col-md-3",children:[Object(m.jsx)("label",{children:"IMPORT FROM OTHER Simulation"}),Object(m.jsxs)("select",{className:"form-select",onChange:function(e){!function(e){var t=localStorage.getItem("simulation");t=JSON.parse(t);var c=N,s=Object(i.a)({},t[e]);s=Object(i.a)(Object(i.a)({},s),{},{name:t[N].name}),t[c]=s,t=JSON.parse(JSON.stringify(t)),b(Object(r.a)(t))}(e.target.value)},children:[Object(m.jsx)("option",{children:" Custom Simulation"}),u.map((function(e,t){return t!=N&&Object(m.jsx)("option",{value:t,children:e.name},t)}))]})]}),Object(m.jsx)("div",{className:"col-md-9 rtl",children:u[N]&&Object(m.jsx)("button",{className:u[N].start?"btn btn-danger":"btn btn-primary",onClick:function(e){return T()},children:u[N].start?"stop":"Simulate"})})]}),Object(m.jsxs)("div",{className:"row mt-2",children:[Object(m.jsxs)("div",{className:"col-md-4",children:[Object(m.jsx)("label",{children:"blocknumber:"}),Object(m.jsx)("input",{type:"text",className:"form-control form-control-sm ",name:"blockNumber",onChange:A,value:u[N].blockNumber})]}),Object(m.jsxs)("div",{className:"col-md-4",children:[Object(m.jsx)("label",{children:"Token Address:"}),Object(m.jsx)("input",{type:"text",name:"tokenAddy",className:"form-control form-control-sm",onChange:A,value:u[N].tokenAddy})]}),Object(m.jsxs)("div",{className:"col-md-4",children:[Object(m.jsx)("label",{children:"Quote Token Address:"}),Object(m.jsx)("input",{type:"text",name:"quoteTokenAddy",className:"form-control form-control-sm",onChange:A,value:u[N].quoteTokenAddy})]})]}),Object(m.jsx)("hr",{}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("h6",{children:["Set Balances",Object(m.jsx)("span",{className:"btn-sm border ml-3",onClick:function(e){return function(){var e=Object(r.a)(u);e[N].setBlances||(e[N].setBlances=[]),e[N].setBlances.push({address:"",value:""}),b(e)}()},children:"+"})]}),!u[N].setBlances&&Object(m.jsx)("div",{className:"center",children:" No datas"}),u[N].setBlances&&u[N].setBlances.map((function(e,t){return Object(m.jsxs)("div",{className:"row",children:[Object(m.jsxs)("div",{className:"col-md-5",children:[Object(m.jsx)("label",{children:"Address"}),Object(m.jsx)("input",{type:"text",onChange:function(e){J(t,e)},name:"address",value:e.address,className:"form-control form-control-sm"})]}),Object(m.jsxs)("div",{className:"col-md-5",children:[Object(m.jsx)("label",{children:"value"}),Object(m.jsx)("input",{type:"text",onChange:function(e){J(t,e)},name:"value",value:e.value,className:"form-control form-control-sm"})]}),Object(m.jsx)("div",{className:"col-md-2 pt-4 ",children:Object(m.jsx)("span",{className:"btn btn-sm",onClick:function(){!function(e){var t=Object(r.a)(u);t[N].setBlances.splice(e,1),b(t)}(t)},children:Object(m.jsx)("i",{className:"far fa-trash-alt"})})})]},t)}))]}),Object(m.jsx)("hr",{}),Object(m.jsxs)("div",{children:[Object(m.jsx)("h6",{children:"Transactions For Simulation"}),u[N].simulates&&u[N].simulates.map((function(c,s){return Object(m.jsxs)("div",{className:"border m-1 p-0 pl-5 pr-5 pt-1 rounded",draggable:!0,onDragStart:function(t){return c=s,void(e.current=c);var c},onDragEnter:function(e){return c=s,void(t.current=c);var c},onDragEnd:D,children:[("limitbuy"===c.op_type||"sell"===c.op_type||"fomobuy"===c.op_type||"function_call"==c.op_type||"custom"==c.op_type)&&Object(m.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(m.jsx)("h6",{children:c.op_type.toUpperCase()}),Object(m.jsx)("div",{children:Object(m.jsx)("button",{className:"btn ",onClick:function(e){q(s)},children:Object(m.jsx)("i",{className:"far fa-trash-alt"})})})]}),"blockjump"===c.op_type&&Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-md-2",children:Object(m.jsx)("h6",{children:c.op_type.toUpperCase()})}),Object(m.jsx)("div",{className:"col-md-2 d-flex justify-content-end",children:"blockjump:"}),Object(m.jsx)("div",{className:"col-md-4",children:Object(m.jsx)("input",{type:"text",className:"form-control form-control-sm",value:u[N].simulates[s].blockjump,name:"blockjump",onChange:function(e){I(s,e)}})}),Object(m.jsx)("div",{className:"col d-flex justify-content-end",children:Object(m.jsx)("button",{className:"btn ",onClick:function(e){q(s)},children:Object(m.jsx)("i",{className:"far fa-trash-alt"})})})]}),"quote_approve"===c.op_type&&Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-md-2",children:Object(m.jsx)("h6",{children:c.op_type.toUpperCase()})}),Object(m.jsx)("div",{className:"col-md-2 d-flex justify-content-end",children:"from:"}),Object(m.jsx)("div",{className:"col-md-6",children:Object(m.jsx)("input",{type:"text",className:"form-control form-control-sm",name:"from",value:u[N].simulates[s].from,onChange:function(e){I(s,e)}})}),Object(m.jsx)("div",{className:"col d-flex justify-content-end",children:Object(m.jsx)("button",{className:"btn ",onClick:function(e){q(s)},children:Object(m.jsx)("i",{className:"far fa-trash-alt"})})})]}),"approve"===c.op_type&&Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-md-2",children:Object(m.jsx)("h6",{children:c.op_type.toUpperCase()})}),Object(m.jsx)("div",{className:"col-md-2 d-flex justify-content-end",children:"from:"}),Object(m.jsx)("div",{className:"col-md-6",children:Object(m.jsx)("input",{type:"text",className:"form-control form-control-sm",value:u[N].simulates[s].from,name:"from",onChange:function(e){I(s,e)}})}),Object(m.jsx)("div",{className:"col d-flex justify-content-end",children:Object(m.jsx)("button",{className:"btn ",onClick:function(e){q(s)},children:Object(m.jsx)("i",{className:"far fa-trash-alt"})})})]}),"addliquidity"===c.op_type&&Object(m.jsxs)("div",{className:"row",children:[Object(m.jsxs)("div",{className:"col-md-6",children:[Object(m.jsx)("label",{children:"from"}),Object(m.jsx)("input",{type:"text",className:"form-control form-control-sm",name:"from",onChange:function(e){I(s,e)},value:u[N].simulates[s].from})]}),Object(m.jsxs)("div",{className:"col-md-3",children:[Object(m.jsx)("label",{children:"token_amount"}),Object(m.jsx)("input",{type:"text",className:"form-control form-control-sm",placeholder:"80%",name:"token_amount",value:u[N].simulates[s].token_amount,onChange:function(e){I(s,e)}})]}),Object(m.jsxs)("div",{className:"col-md-3",children:[Object(m.jsx)("label",{children:"eth_amount"}),Object(m.jsx)("input",{type:"text",value:u[N].simulates[s].eth_amount,className:"form-control form-control-sm",name:"eth_amount",onChange:function(e){I(s,e)}})]}),Object(m.jsxs)("div",{className:"col-md-4",children:[Object(m.jsx)("label",{children:"gasLimit"}),Object(m.jsx)("input",{type:"text",value:u[N].simulates[s].gasLimit,className:"form-control form-control-sm",name:"gasLimit",placeholder:"3000000",onChange:function(e){I(s,e)}})]}),Object(m.jsx)("div",{className:"col"})]}),"fomobuy"===c.op_type&&Object(m.jsxs)("div",{className:"row",children:[Object(m.jsxs)("div",{className:"col-md-6",children:[Object(m.jsx)("label",{children:"from"}),Object(m.jsx)("input",{type:"text",className:"form-control form-control-sm",value:u[N].simulates[s].from,name:"from",onChange:function(e){I(s,e)}})]}),Object(m.jsxs)("div",{className:"col-md-3",children:[Object(m.jsx)("label",{children:"eth_amount"}),Object(m.jsx)("input",{type:"text",value:u[N].simulates[s].eth_amount,className:"form-control form-control-sm",name:"eth_amount",onChange:function(e){I(s,e)},placeholder:""})]}),Object(m.jsxs)("div",{className:"col-md-3",children:[Object(m.jsx)("label",{children:"gasLimit"}),Object(m.jsx)("input",{type:"text",value:u[N].simulates[s].gasLimit,className:"form-control form-control-sm",name:"gasLimit",placeholder:"900000",onChange:function(e){I(s,e)}})]}),Object(m.jsx)("div",{className:"col"})]}),"function_call"===c.op_type&&Object(m.jsxs)("div",{className:"row",children:[Object(m.jsxs)("div",{className:"col-md-4",children:[Object(m.jsx)("label",{children:"function"}),Object(m.jsx)("input",{type:"text",value:u[N].simulates[s].function,className:"form-control form-control-sm",name:"function",onChange:function(e){I(s,e)}})]}),Object(m.jsxs)("div",{className:"col-md-6",children:[Object(m.jsx)("label",{children:"params"}),Object(m.jsx)("input",{type:"text",className:"form-control form-control-sm",value:u[N].simulates[s].params,name:"params",onChange:function(e){I(s,e)},placeholder:'[true, 1000000000, "0x00"]'})]}),Object(m.jsxs)("div",{className:"col-md-4",children:[Object(m.jsx)("label",{children:"gasLimit"}),Object(m.jsx)("input",{type:"text",value:u[N].simulates[s].gasLimit,className:"form-control form-control-sm",name:"gasLimit",placeholder:"500000",onChange:function(e){I(s,e)}})]}),Object(m.jsx)("div",{className:"col"})]}),"limitbuy"===c.op_type&&Object(m.jsxs)("div",{className:"row",children:[Object(m.jsxs)("div",{className:"col-md-6",children:[Object(m.jsx)("label",{children:"from"}),Object(m.jsx)("input",{type:"text",className:"form-control form-control-sm",value:u[N].simulates[s].from,name:"from",onChange:function(e){I(s,e)}})]}),Object(m.jsxs)("div",{className:"col-md-3",children:[Object(m.jsx)("label",{children:"token_amount"}),Object(m.jsx)("input",{type:"text",value:u[N].simulates[s].token_amount,className:"form-control form-control-sm",placeholder:"1%",name:"token_amount",onChange:function(e){I(s,e)}})]}),Object(m.jsxs)("div",{className:"col-md-3",children:[Object(m.jsx)("label",{children:"eth_amount_max"}),Object(m.jsx)("input",{type:"text",value:u[N].simulates[s].eth_amount,className:"form-control form-control-sm",name:"eth_amount_max",onChange:function(e){I(s,e)},placeholder:"1"})]}),Object(m.jsxs)("div",{className:"col-md-4",children:[Object(m.jsx)("label",{children:"gasLimit"}),Object(m.jsx)("input",{type:"text",value:u[N].simulates[s].gasLimit,className:"form-control form-control-sm",name:"gasLimit",placeholder:"200000",onChange:function(e){I(s,e)}})]}),Object(m.jsx)("div",{className:"col"})]}),"sell"===c.op_type&&Object(m.jsxs)("div",{className:"row",children:[Object(m.jsxs)("div",{className:"col-md-6",children:[Object(m.jsx)("label",{children:"from"}),Object(m.jsx)("input",{type:"text",className:"form-control form-control-sm",value:u[N].simulates[s].from,name:"from",onChange:function(e){I(s,e)}})]}),Object(m.jsxs)("div",{className:"col-md-3",children:[Object(m.jsx)("label",{children:"token_amount"}),Object(m.jsx)("input",{type:"text",value:u[N].simulates[s].token_amount,className:"form-control form-control-sm",name:"token_amount",onChange:function(e){I(s,e)},placeholder:"0.5%"})]}),Object(m.jsxs)("div",{className:"col-md-3",children:[Object(m.jsx)("label",{children:"gasLimit"}),Object(m.jsx)("input",{type:"text",value:u[N].simulates[s].gasLimit,className:"form-control form-control-sm",name:"gasLimit",placeholder:"200000",onChange:function(e){I(s,e)}})]}),Object(m.jsx)("div",{className:"col"})]}),"custom"===c.op_type&&Object(m.jsxs)("div",{className:"row",children:[Object(m.jsxs)("div",{className:"col-md-6",children:[Object(m.jsx)("label",{children:"from"}),Object(m.jsx)("input",{type:"text",value:u[N].simulates[s].from,className:"form-control form-control-sm",name:"from",onChange:function(e){I(s,e)}})]}),Object(m.jsxs)("div",{className:"col-md-6",children:[Object(m.jsx)("label",{children:"to"}),Object(m.jsx)("input",{type:"text",value:u[N].simulates[s].to,className:"form-control form-control-sm",name:"to",onChange:function(e){I(s,e)}})]}),Object(m.jsxs)("div",{className:"col-md-4",children:[Object(m.jsx)("label",{children:"data"}),Object(m.jsx)("input",{type:"text",value:u[N].simulates[s].data,className:"form-control form-control-sm",name:"data",onChange:function(e){I(s,e)},placeholder:"0x1d97b7cd"})]}),Object(m.jsxs)("div",{className:"col-md-4",children:[Object(m.jsx)("label",{children:"value"}),Object(m.jsx)("input",{type:"text",value:u[N].simulates[s].value,className:"form-control form-control-sm",name:"value",placeholder:"0",onChange:function(e){I(s,e)}})]}),Object(m.jsxs)("div",{className:"col-md-4",children:[Object(m.jsx)("label",{children:"gasLimit"}),Object(m.jsx)("input",{type:"text",value:u[N].simulates[s].gasLimit,className:"form-control form-control-sm",name:"gasLimit",placeholder:"200000",onChange:function(e){I(s,e)}})]}),Object(m.jsx)("div",{className:"col"})]})]},s)})),Object(m.jsxs)("div",{className:"m-3 row",children:[Object(m.jsx)("div",{className:"col-md-4",children:Object(m.jsx)("select",{className:"form-control form-select form-control-sm",value:L,onChange:function(e){B(e.target.value)},children:["","quote_approve","approve","addliquidity","limitbuy","fomobuy","sell","blockjump","function_call","custom"].map((function(e){return Object(m.jsx)("option",{value:e,children:e},e)}))})}),Object(m.jsx)("div",{className:"col",children:Object(m.jsx)("button",{className:"btn btn-dark btn-sm",onClick:function(e){!function(){if(""!==L){var e=Object(r.a)(u);e[N].simulates||(e[N].simulates=[]),e[N].simulates.push({op_type:L}),b(e)}}()},children:"ADD"})})]})]}),Object(m.jsx)("div",{className:"text-center",children:u[N]&&Object(m.jsx)("button",{className:"btn btn-primary",onClick:function(e){return T()},children:" Simulate"})})]})})]})})})};var d=function(){var e=Object(s.useState)(1),t=Object(o.a)(e,2);return t[0],t[1],Object(m.jsxs)("div",{className:"page-layout",children:[Object(m.jsx)("div",{className:" bg-dark2 p-1 pt-3  pl-4 shadow d-flex ",children:Object(m.jsx)("h2",{className:"center",children:"Simulation tool"})}),Object(m.jsx)("main",{children:Object(m.jsx)("div",{className:"container",children:Object(m.jsx)(j,{})})})]})};l.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(d,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.ca1afd3b.chunk.js.map